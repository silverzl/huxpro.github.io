---
layout:     post
title:      "数据库 数据模型"
subtitle:   "DATABASE"
date:       2019-04-13 17:00:00
author:     "zl"
header-img: "img/post-bg2-2019.jpg"
tags:
    - 数据库
---

## 数据模型概述
**数据模型**：事对现实世界数据特征的抽象，是用来描述数据的一组概念和定义。  
1. 概念数据模型(概念模型)
2. 逻辑数据模型(数据模型)
3. 概念模型是对现实世界的第一层抽象，与具体的计算机系统、DBMS无关。逻辑数据模型的设计则与DBMS有关。

> 现实世界——概念数据模型（信息世界）——逻辑数据模型（DBMS支持的数据模型）

### 数据模型的基本组成
1. 数据结构     
   它是指对实体类型和实体间联系的表示方法。     
    它是数据模型最基本的组成部分，规定了数据模型的静态特性。    
    根据数据结构的不同，数据模型分为**层次模型**、**网状模型**和**关系模型**三种。
2. 数据操作     
   数据操作是指对数据库进行**检索**，**更新**(插入删除，修改)两类操作。规定了数据模型的动态操作
3. 数据约束条件     
   数据约束条件是一组**完整性规则**的集合。

## E-R数据模型

### 基本概念
E-R数据模型(Entity-Relational Data Modle)即 实体-联系数据模型，是一种语义数据模型，他不是面向实现，而是面向现实世界

1. 实体（Entity）：
    实体是客观存在的且可以区别的事物。
 
2. 联系（Relationship）：
      实体与实体间的关系抽象为联系。 
      
> 一对一：学校实体集和校长实体集    
> 一对多：车间和工人    
> 多对多：学生和课程

3. 属性：  实体或联系所具有的特征。    
 实体是由特征来表征和区分的，通常一个实体可以由多个属性来描述。例如，学生具有姓名、学号等属性。     
属性往往是不可再细分的原子属性，如姓名、性别等。

    属性有型和值的区别。    
        例如，学生实体中的学号、姓名等属性名是**属性型**，而“021231142”、“李定”等具体数据称为**属性值**。   
    每个属性值都有一定的变化范围，通常称属性取值的变化范围为**属性值的域**。    
        例如，性别属性域是{男、女}，年龄属性域是1~200。     

    能唯一标识实体集中某一实体的属性或属性组称为实体集的**标识关键字**、**关键字或码**。

### E-R图
缺少图片。

## 层次数据模型

层次模型是按照层次结构的形式组织数据库数据的数据模型，即用树型结构表示实体集与实体集之间的联系。    

其数据结构*特点*为：  
每棵树仅有一个结点无双亲结点，即根结点。    
除根结点外的任何结点有且只有一个双亲结点，但可以有任意个子女结点。  
树中无子女的结点称为叶结点 。

在层次数据模型**操作**中:若要查找一个记录，须从根结点开始，按给定条件沿一个层次路径查找所需要的记录。

## 网状数据模型

能够更为直接地描述现实世界。
具有存取效率高等良好性能。

## 关系数据模型

### 基本概念
- 属性和域
> 在现实世界中，要描述一个事物，常常取其若干特征来表示。这些特征称为**属性**。  
例如，大学生可用姓名、学号、性别、系别等属性来描述。
每个属性对应一个值的集合，作为其可以取值的范围，称为**属性的域**。  
例如性别的域是｛男，女｝,成绩的域是[0,100]等。

- 关系和元组    
  一个对象可以用 一个或多个 关系来表示。    
  关系就是定义在其所有属性域上的多元关系。
- 键    
  > 关系中的某一属性或属性组的值唯一地决定其他所有属性的值，也就是唯一决定一个元组，而其任何真子集无此性质，则称这个属性或属性组为该关系的**候选键**或**候选码**，简称键或码。 

### 关系数据库的数据结构
1. 关系数据库的描述功能
   - 用二维表格表示实体集及其属性   
   学号|姓名|年龄|性别|
   S1|程小红|18|男|
   S2|王梦|21|女|
   S3|刘莉莉|18|女|

   - 用二维表描述试题及键的联系
   借书人登记表，图书登记表.    
   借书证号|总编号|借阅日期|
    10011|20001|2019.4|
    10022|20002|2019.5|

   > 借书人与图书的关系是m:n,用层次或网状模型是很复杂的事情。这里用二维表"借书登记表"来表示借书人和两个实体集的关系。    
    两个实体集的联系是通过二维表 “借书人”中存放的借书人的键和借书号的键，与“图书”总编号的键来实现
2. 关系的性质
-  关系是一个二维表，表中的每一行对应一个元组，表中的每一列有一个属性名且对应一个域。
 - 列是同质的，即每一列的值来自同一个域。
- 关系中的每一个属性是不可再分解，即所有域都应是原子数据的集合。
- 关系中任意两个元组不能完全相同。
- 关系中行的排列顺序、列的排列顺序是无关紧要的。
- 每个关系都由关键字的属性集唯一标识一个元组。

3. 数据操作 
   - 关系代数   
   传统的集合运算：并，差，交，笛卡儿积     
   专门的关系运算：选择，投影，连接，自然连接，半连接，自然半连接，除运算。
   - 关系演算   
  还可以用谓词演算来表达关系的操作。称为关系演算。

4. 数据约束 
    - 域的完整性约束：限定了属性值的取值范围。
    - 实体完整性约束：每个关系都应该有一个主键。每个元组主键唯一。主键不能为NULL。
    - 参照完整性约束： 参照完整性约束是不同关系间的约束。当存在关系间的引用时，要求不能引用不存在的元组。






   

  





